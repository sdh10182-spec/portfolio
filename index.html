<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Designer Portfolio</title>

<style>
/* -------------------- ì „ì²´ ìŠ¤íƒ€ì¼ -------------------- */
body {
    margin: 0;
    font-family: "Pretendard", sans-serif;
    background: #fff8f0;
    display: flex;
    color: #4a3b2f;
}

/* -------------------- ì¢Œì¸¡ ì‚¬ì´ë“œë°” -------------------- */
.sidebar {
    width: 220px;
    background: #ffb678;
    padding: 20px;
    height: 100vh;
    box-shadow: 2px 0 10px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
}

.logo {
    font-weight: bold;
    font-size: 20px;
    margin-bottom: 30px;
}

.menu-title {
    font-weight: bold;
    margin: 15px 0 10px;
}

.menu-item {
    padding: 10px;
    background: rgba(255,255,255,0.45);
    border-radius: 8px;
    margin-bottom: 8px;
    cursor: pointer;
    transition: .2s;
}

.menu-item:hover {
    background: rgba(255,255,255,0.7);
}

/* ê´€ë¦¬ì ëª¨ë“œ ë²„íŠ¼ */
.lock-btn {
    margin-top: auto;
    padding: 10px;
    background: rgba(255,255,255,0.5);
    text-align: center;
    border-radius: 10px;
    cursor: pointer;
    font-size: 18px;
}

/* -------------------- ë©”ì¸ ì½˜í…ì¸  -------------------- */
.content {
    flex: 1;
    padding: 40px;
}

.section-title {
    font-size: 26px;
    margin-bottom: 20px;
}

/* -------------------- 3ì—´ í¬íŠ¸í´ë¦¬ì˜¤ ê·¸ë¦¬ë“œ -------------------- */
.grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 25px;
}

.card {
    background: #fff;
    border-radius: 12px;
    padding: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    cursor: pointer;
    transition: .2s;
}

.card:hover {
    transform: translateY(-5px);
}

.card img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 10px;
}

/* -------------------- ì‘í’ˆ ìƒì„¸ ëª¨ë‹¬ -------------------- */
.modal-bg {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    display: none;
    justify-content: center;
    align-items: center;
}

.modal {
    background: #fff;
    width: 420px;
    padding: 25px;
    border-radius: 12px;
}

.modal img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 15px;
}

/* -------------------- ê´€ë¦¬ì íŒ¨ë„ -------------------- */
#admin-panel {
    margin-top: 30px;
    padding: 20px;
    background: #ffe8d4;
    border-radius: 12px;
    display: none;
}

input, select {
    width: 100%;
    padding: 8px;
    margin: 8px 0;
    border-radius: 6px;
    border: 1px solid #d1b8a3;
}

button {
    padding: 10px;
    background: #ff9d56;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}
button:hover {
    background: #ff7f22;
}

</style>
</head>
<body>

<!-- -------------------- ì¢Œì¸¡ ì‚¬ì´ë“œë°” -------------------- -->
<div class="sidebar">
    <div class="logo">Designer Portfolio</div>

    <div class="menu-title">ì¹´í…Œê³ ë¦¬</div>
    <div id="category-list">
        <div class="menu-item" data-cat="all" onclick="filterCategory('all')">ì „ì²´</div>
        <div class="menu-item" data-cat="interior" onclick="filterCategory('interior')">ì¸í…Œë¦¬ì–´</div>
        <div class="menu-item" data-cat="architecture" onclick="filterCategory('architecture')">ê±´ì¶•</div>
        <div class="menu-item" data-cat="exhibition" onclick="filterCategory('exhibition')">ì „ì‹œ</div>
    </div>

    <div class="menu-item" onclick="showProfile()">ë””ìì´ë„ˆ í”„ë¡œí•„</div>

    <div class="lock-btn" onclick="unlockAdmin()">ğŸ”‘ ê´€ë¦¬ì ëª¨ë“œ</div>
</div>

<!-- -------------------- ë©”ì¸ ì½˜í…ì¸  -------------------- -->
<div class="content">
    <h1 id="main-title" class="section-title">í¬íŠ¸í´ë¦¬ì˜¤</h1>

    <div id="portfolio-area">
        <div class="grid" id="portfolio-grid">
            <!-- ì´ˆê¸° ìƒ˜í”Œ ì¹´ë“œ -->
            <div class="card" data-cat="interior" onclick="openModal(0)">
                <img src="https://picsum.photos/400/300?random=11">
                <p>ì¸í…Œë¦¬ì–´ í”„ë¡œì íŠ¸ 01</p>
            </div>
            <div class="card" data-cat="architecture" onclick="openModal(1)">
                <img src="https://picsum.photos/400/300?random=12">
                <p>ê±´ì¶• í”„ë¡œì íŠ¸ 01</p>
            </div>
            <div class="card" data-cat="exhibition" onclick="openModal(2)">
                <img src="https://picsum.photos/400/300?random=13">
                <p>ì „ì‹œ í”„ë¡œì íŠ¸ 01</p>
            </div>
        </div>
    </div>

    <!-- -------------------- ê´€ë¦¬ì íŒ¨ë„ -------------------- -->
    <div id="admin-panel">
        <h3>ğŸ›  ê´€ë¦¬ì ëª¨ë“œ</h3>

        <h4>ì‘í’ˆ ì¶”ê°€</h4>
        <input type="file" id="upload-img">
        <input type="text" id="upload-title" placeholder="ì‘í’ˆ ì œëª© ì…ë ¥">
        <textarea id="upload-desc" placeholder="ì‘í’ˆ ì„¤ëª…" rows="3"></textarea>

        <select id="upload-category">
            <option value="interior">ì¸í…Œë¦¬ì–´</option>
            <option value="architecture">ê±´ì¶•</option>
            <option value="exhibition">ì „ì‹œ</option>
        </select>

        <button onclick="addWork()">ì‘í’ˆ ì¶”ê°€í•˜ê¸°</button>

        <hr style="margin: 20px 0">

        <h4>ì¹´í…Œê³ ë¦¬ ì¶”ê°€</h4>
        <input type="text" id="new-category-input" placeholder="ì¹´í…Œê³ ë¦¬ ì´ë¦„">
        <button onclick="addCategory()">ì¹´í…Œê³ ë¦¬ ìƒì„±</button>
    </div>
</div>

<!-- -------------------- ì‘í’ˆ ìƒì„¸ ëª¨ë‹¬ -------------------- -->
<div class="modal-bg" id="modal-bg" onclick="closeModal(event)">
    <div class="modal" id="modal">
        <img id="modal-img">
        <h3 id="modal-title"></h3>
        <p id="modal-desc"></p>

        <div id="edit-section" style="display:none;">
            <h4>ì‘í’ˆ ìˆ˜ì •</h4>
            <input type="file" id="edit-img">
            <input type="text" id="edit-title">
            <textarea id="edit-desc" rows="3"></textarea>
            <button onclick="saveEdit()">ì €ì¥í•˜ê¸°</button>
            <button onclick="deleteWork()">ì‚­ì œí•˜ê¸°</button>
        </div>
    </div>
</div>

<script>
/* -------------------- ë°ì´í„° ì €ì¥ -------------------- */
let works = [
    {
        img: "https://picsum.photos/400/300?random=11",
        title: "ì¸í…Œë¦¬ì–´ í”„ë¡œì íŠ¸ 01",
        desc: "ìì—°ê´‘ì„ í™œìš©í•œ Zen ì¸í…Œë¦¬ì–´ ë””ìì¸",
        cat: "interior"
    },
    {
        img: "https://picsum.photos/400/300?random=12",
        title: "ê±´ì¶• í”„ë¡œì íŠ¸ 01",
        desc: "ê³¡ì„ ë¯¸ë¥¼ ê°•ì¡°í•œ ê±´ì¶• ë””ìì¸",
        cat: "architecture"
    },
    {
        img: "https://picsum.photos/400/300?random=13",
        title: "ì „ì‹œ í”„ë¡œì íŠ¸ 01",
        desc: "ë”°ëœ»í•œ ë¹›ê³¼ ê³µê°„ ëŒ€ë¹„ë¥¼ í™œìš©í•œ ì „ì‹œ ì—°ì¶œ",
        cat: "exhibition"
    }
];

let currentIndex = null;
let adminMode = false;

/* -------------------- ì‘í’ˆ í•„í„° -------------------- */
function filterCategory(cat) {
    document.getElementById("main-title").innerText = 
        cat === "all" ? "ì „ì²´ í¬íŠ¸í´ë¦¬ì˜¤" : cat + " ì¹´í…Œê³ ë¦¬";

    let cards = document.querySelectorAll(".card");
    cards.forEach(c => {
        c.style.display = (cat === "all" || c.dataset.cat === cat)
            ? "block" : "none";
    });
}

/* -------------------- ë””ìì´ë„ˆ í”„ë¡œí•„ -------------------- */
function showProfile() {
    document.getElementById("portfolio-area").innerHTML = `
        <h2>ë””ìì´ë„ˆ í”„ë¡œí•„</h2>
        <p>ê³µê°„ì„ í†µí•´ ê°ì„±ê³¼ íë¦„ì„ ë””ìì¸í•˜ëŠ” ê³µê°„ ë””ìì´ë„ˆì…ë‹ˆë‹¤.</p>
        <p>ê²½ë ¥: 8ë…„</p>
        <p>ë””ìì¸ ì² í•™: ì—¬ë°±ê³¼ ìì—°ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ Zen Space Design</p>
    `;
}

/* -------------------- ê´€ë¦¬ì ëª¨ë“œ -------------------- */
function unlockAdmin() {
    let pw = prompt("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (1234)");
    if (pw === "1234") {
        adminMode = true;
        alert("ê´€ë¦¬ì ëª¨ë“œ í™œì„±í™”!");
        document.getElementById("admin-panel").style.display = "block";
    } else {
        alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
    }
}

/* -------------------- ì‘í’ˆ ìƒì„¸ ëª¨ë‹¬ -------------------- */
function openModal(index) {
    currentIndex = index;

    let w = works[index];
    document.getElementById("modal-img").src = w.img;
    document.getElementById("modal-title").innerText = w.title;
    document.getElementById("modal-desc").innerText = w.desc;

    document.getElementById("modal-bg").style.display = "flex";

    // ê´€ë¦¬ì ëª¨ë“œì¼ ë•Œë§Œ ìˆ˜ì • ê¸°ëŠ¥ ë„ì›€
    document.getElementById("edit-section").style.display = adminMode ? "block" : "none";

    if (adminMode) {
        document.getElementById("edit-title").value = w.title;
        document.getElementById("edit-desc").value = w.desc;
    }
}

function closeModal(e) {
    if (e.target.id === "modal-bg") {
        document.getElementById("modal-bg").style.display = "none";
    }
}

/* -------------------- ì‘í’ˆ ì¶”ê°€ -------------------- */
function addWork() {
    let imgFile = document.getElementById("upload-img").files[0];
    let title = document.getElementById("upload-title").value;
    let desc = document.getElementById("upload-desc").value;
    let category = document.getElementById("upload-category").value;

    if (!imgFile) return alert("ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”!");

    let imgURL = URL.createObjectURL(imgFile);

    works.push({ img: imgURL, title, desc, cat: category });
    renderPortfolio();
    alert("ì‘í’ˆì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!");
}

/* -------------------- ì‘í’ˆ ì‚­ì œ -------------------- */
function deleteWork() {
    if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
        works.splice(currentIndex, 1);
        renderPortfolio();
        document.getElementById("modal-bg").style.display = "none";
    }
}

/* -------------------- ì‘í’ˆ ìˆ˜ì • -------------------- */
function saveEdit() {
    let w = works[currentIndex];

    let title = document.getElementById("edit-title").value;
    let desc = document.getElementById("edit-desc").value;

    let imgFile = document.getElementById("edit-img").files[0];
    if (imgFile) {
        w.img = URL.createObjectURL(imgFile);
    }

    w.title = title;
    w.desc = desc;

    renderPortfolio();
    alert("ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!");
}

/* -------------------- ì¹´í…Œê³ ë¦¬ ì¶”ê°€ -------------------- */
function addCategory() {
    let name = document.getElementById("new-category-input").value;
    if (!name) return;

    let list = document.getElementById("category-list");
    let item = document.createElement("div");
    item.className = "menu-item";
    item.innerText = name;
    item.onclick = () => filterCategory(name);
    item.dataset.cat = name;

    list.appendChild(item);
    document.getElementById("new-category-input").value = "";
}

/* -------------------- í¬íŠ¸í´ë¦¬ì˜¤ ë Œë”ë§ -------------------- */
function renderPortfolio() {
    let grid = document.getElementById("portfolio-grid");
    grid.innerHTML = "";

    works.forEach((w, i) => {
        grid.innerHTML += `
            <div class="card" data-cat="${w.cat}" onclick="openModal(${i})">
                <img src="${w.img}">
                <p>${w.title}</p>
            </div>
        `;
    });
}
</script>
</body>
</html>
